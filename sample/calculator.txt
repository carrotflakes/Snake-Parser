{
  add: function(o) {
    return o.left + o.right;
  },
  subtract: function(o) {
    return o.left - o.right;
  },
  multiple: function(o) {
    return o.left * o.right;
  },
  divide: function(o) {
    return o.left / o.right;
  },
  modulo: function(o) {
    return o.left % o.right;
  },
  integer: function(o) {
    return +o;
  }
}

start =
  ?ws additive ?ws

additive =
  {left:additive ?ws "+" ?ws right:multiplicative} > add
  | {left:additive ?ws "-" ?ws right:multiplicative} > subtract
  | multiplicative

multiplicative =
  {left:multiplicative ?ws "*" ?ws right:primary} > multiple
  | {left:multiplicative ?ws "/" ?ws right:primary} > divide
  | {left:multiplicative ?ws "%" ?ws right:primary} > modulo
  | primary

primary =
  integer
  | "(" ?ws additive ?ws ")"

integer =
  `(?'-' +[0-9])>integer

ws =
  +[ \t\r\n]
